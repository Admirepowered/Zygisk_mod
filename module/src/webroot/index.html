<!doctype html>
<html lang="zh-CN" class="mdui-theme-auto">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no"/>
    <meta name="renderer" content="webkit"/>
	<!-- Filled fonts.googleapis.com-->
	<link href="ass/Meta.css" rel="stylesheet">

	<!-- Outlined -->
	<link href="ass/Meta_Outlined.css" rel="stylesheet">

	<!-- Rounded -->
	<link href="ass/Meta_Round.css" rel="stylesheet">

	<!-- Sharp -->
	<link href="ass/Meta_Sharp.css" rel="stylesheet">

	<!-- Two Tone -->
	<link href="ass/Meta_TwoTone.css" rel="stylesheet">
    <link rel="stylesheet" href="ass/mdui.css">
    <script src="ass/mdui.global.js"></script>

    <!-- å¦‚æœä½¿ç”¨äº†ç»„ä»¶çš„ icon å±æ€§ï¼Œè¿˜éœ€è¦å¼•å…¥å›¾æ ‡çš„ CSS æ–‡ä»¶ -->
	<mdui-top-app-bar style="position: relative;">

	  <mdui-top-app-bar-title>Zygisk_mod</mdui-top-app-bar-title>
	  <mdui-dropdown>
		<mdui-button-icon slot="trigger" icon="more_vert"></mdui-button-icon>

		<mdui-menu selects="single" value="auto" class="menu">
		<mdui-menu-item value="light">äº®è‰²æ¨¡å¼</mdui-menu-item>
		<mdui-menu-item value="dark">æš—è‰²æ¨¡å¼</mdui-menu-item>
		<mdui-divider></mdui-divider>
		<mdui-menu-item value="auto">è·Ÿéšç³»ç»Ÿ</mdui-menu-item>
		</mdui-menu>
	  </mdui-dropdown>





	</mdui-top-app-bar>
	<mdui-list>

	  <mdui-collapse accordion>
		<mdui-collapse-item accordion >
		  <mdui-list-item slot="header" icon="arrow_drop_down">Version</mdui-list-item>
		  <div style="margin-left: 2.5rem">
			<mdui-list-item>i dont' know</mdui-list-item>
		  </div>
		</mdui-collapse-item>
		<mdui-collapse-item>
		  <mdui-list-item slot="header" icon="near_me">Dashboard</mdui-list-item>
		  <div style="margin-left: 2.5rem">
			<mdui-list-item>Root implementemtation - ğŸ˜Š</mdui-list-item>
			<mdui-list-item>Tracer                 - ğŸ˜Š</mdui-list-item>
			<mdui-list-item>Deamon                 - ğŸ˜Š</mdui-list-item>
			<mdui-list-item>Zygote                 - ğŸ˜Š</mdui-list-item>

		  </div>
		</mdui-collapse-item>
		<mdui-collapse-item>
		<mdui-list-item slot="header" icon="near_me">Module</mdui-list-item>
			<div style="margin-left: 2.5rem">
			</div>

		</mdui-collapse-item>
		<mdui-card style="width: 100px;height: 20px;text-align:right">å¼€å¯å¼ºåˆ¶å¸è½½</mdui-card>
		<mdui-switch checked=true></mdui-switch>

	</mdui-list>

    <title>Zygisk Webui</title>
  </head>
  <body>
    <!--<mdui-button>Zygisk Webui</mdui-button>-->
  </body>
  <script>

	const witch = document.querySelector('mdui-switch');
	console.log(witch)
	  // è®¾ç½® JavaScript å±æ€§
	  witch.variant = 'outlined';
	  witch.addEventListener('click', () => {
			//console.log('å¯¹è¯æ¡†å¼€å§‹æ‰“å¼€æ—¶ï¼Œä¼šè§¦å‘è¯¥äº‹ä»¶');
			//alert('Art')
			console.log(witch.checked)
			if (witch.checked){
				info = ksu.exec('touch /sdcard/noable');//å…³é—­æŒ‰é’®
				//alert(info);
			}{
				info = ksu.exec('rm /sdcard/noable');//å¼€å¯æŒ‰é’®
				//alert(info);
			}
	  });
	  // è¯»å– JavaScript å±æ€§
	  console.log(witch.variant); // outlined
	  const div = document.querySelectorAll('div');
	  //div[2].innerHTML="<mdui-list-item>LSPosed                 - ğŸ˜Š</mdui-list-item>\n<mdui-list-item>LSPosed                 - ğŸ˜Š</mdui-list-item>"
	  const item = document.querySelectorAll('mdui-list-item');
	  const menu_item = document.querySelectorAll('mdui-menu-item');
	  menu_item[0].addEventListener('click', () => {
			//äº®è‰²æ¨¡å¼
			const html = document.querySelectorAll('html');
			html[0].setAttribute("class","mdui-theme")
	  });
	  menu_item[1].addEventListener('click', () => {
			//æš—è‰²æ¨¡å¼
			const html = document.querySelectorAll('html');
			html[0].setAttribute("class","mdui-theme-dark")
	  });
	  menu_item[2].addEventListener('click', () => {
			//auto
			const html = document.querySelectorAll('html');
			html[0].setAttribute("class","mdui-theme-auto")
	  });

	  try	{
		info = ksu.exec('/data/adb/modules/zygisksu/bin/zygiskd64 version');
		item[1].textContent=info;
		info = ksu.exec('if [ -e /sdcard/noable ]; then echo 1; fi');
		if (info!=""){
			witch.checked=false;
		}
		info = ksu.exec('cat /data/adb/modules/info.json');
		//alert(info)
		//var info = '{"a":0,"b":0,"p32":0,"p64":0}'
		list = JSON.parse(info)
		switch(list.a){
			case 0:
				item[3].textContent="Root implementemtation - ğŸ˜Štracing";
				break
			case 1:
				item[3].textContent="Root implementemtation - âŒstopped";
				break
			case 2:
				item[3].textContent="Root implementemtation - âŒexitd";
				break
		}
		switch(list.a){
			case 0:
				item[4].textContent="Zygote                 - ğŸ˜Štracing";
				break
			case 1:
				item[4].textContent="Zygote                 - âŒstopped";
				break
			case 2:
				item[4].textContent="Zygote                 - âŒexitd";
				break
		}
		switch(list.p32){
			case 0:
				item[5].textContent="daemon[32]             - ğŸ˜Štracing";
				break
			case 1:
				item[5].textContent="daemon[32]             - âŒstopped";
				break
			case 2:
				item[5].textContent="daemon[32]             - âŒexitd";
				break
		}
		switch(list.p64){
			case 0:
				item[6].textContent="daemon[64]             - ğŸ˜Štracing";
				break
			case 1:
				item[6].textContent="daemon[64]             - âŒstopped";
				break
			case 2:
				item[6].textContent="daemon[64]             - âŒexitd";
				break
		}
		var mod="Root: Apatch,module(1): zygisk_lsposed"
		mod=list.in64
		list = mod.split(":")[2]
		mod=list.split(",")
		modlist=""
		for (i=0;i<mod.length;i++){
			modlist +="<mdui-list-item>"+mod[i]+"- ğŸ˜Š </mdui-list-item>"
		}
		div[2].innerHTML=modlist

	  }catch(i){
		item[1].textContent=i;
		//item[3].textContent=i;
		//item[4].textContent=i;
		//item[5].textContent=i;
		//item[6].textContent=i;
	  }
</script>
</html>